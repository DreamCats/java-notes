## 内存布局

面试官：刚才说了内存布局，给我讲一下

我：好的，内存布局分别为**对象头，实例数据，对其填充**

1. **对象头**

**Hotspot 虚拟机的对象头包括两部分信息**，**第一部分用于存储对象自身的自身运行时数据**（哈**希码、GC 分代年龄、锁状态标志**等等），**另一部分是类型指针**，即对象指向它的类元数据的指针，虚拟机通过这个指针来确定这个对象是那个类的实例。

2. **实例数据**

**实例数据部分是对象真正存储的有效信息**，也是在程序中所定义的各种类型的字段内容。

3. **对齐填充**

**对齐填充部分不是必然存在的，也没有什么特别的含义，仅仅起占位作用。** 因为 Hotspot 虚拟机的自动内存管理系统要求对象起始地址必须是 8 字节的整数倍，换句话说就是对象的大小必须是 8 字节的整数倍。而对象头部分正好是 8 字节的倍数（1 倍或 2 倍），因此，当对象实例数据部分没有对齐时，就需要通过对齐填充来补全。